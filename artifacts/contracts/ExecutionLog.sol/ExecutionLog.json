{
  "_format": "hh-sol-artifact-1",
  "contractName": "ExecutionLog",
  "sourceName": "contracts/ExecutionLog.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "initialGovernance",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "initialAggregator",
          "type": "address"
        },
        {
          "internalType": "uint16",
          "name": "initialQuorum",
          "type": "uint16"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AlreadyRecorded",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidQuorum",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Unauthorized",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "newAggregator",
          "type": "address"
        }
      ],
      "name": "AggregatorUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "jobId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "workflowId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "node",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint96",
          "name": "fee",
          "type": "uint96"
        }
      ],
      "name": "ExecutionRecorded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "newGovernance",
          "type": "address"
        }
      ],
      "name": "GovernanceUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint16",
          "name": "newQuorum",
          "type": "uint16"
        }
      ],
      "name": "QuorumChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "validator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "name": "ValidatorSet",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "attestationAggregator",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "jobId",
          "type": "bytes32"
        }
      ],
      "name": "getExecution",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "workflowId",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "caller",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "node",
              "type": "address"
            },
            {
              "internalType": "uint96",
              "name": "fee",
              "type": "uint96"
            },
            {
              "internalType": "uint64",
              "name": "timestamp",
              "type": "uint64"
            },
            {
              "internalType": "uint16",
              "name": "validatorCount",
              "type": "uint16"
            },
            {
              "internalType": "bytes32",
              "name": "receiptHash",
              "type": "bytes32"
            }
          ],
          "internalType": "struct ExecutionLog.ExecutionRecord",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "governance",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "quorumSize",
      "outputs": [
        {
          "internalType": "uint16",
          "name": "",
          "type": "uint16"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "jobId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "workflowId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "caller",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "node",
          "type": "address"
        },
        {
          "internalType": "uint96",
          "name": "fee",
          "type": "uint96"
        },
        {
          "internalType": "bytes32",
          "name": "receiptHash",
          "type": "bytes32"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "validator",
              "type": "address"
            },
            {
              "internalType": "bytes",
              "name": "signature",
              "type": "bytes"
            }
          ],
          "internalType": "struct ExecutionLog.ValidatorApproval[]",
          "name": "approvals",
          "type": "tuple[]"
        }
      ],
      "name": "recordExecution",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newAggregator",
          "type": "address"
        }
      ],
      "name": "setAttestationAggregator",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newGovernance",
          "type": "address"
        }
      ],
      "name": "setGovernance",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint16",
          "name": "newQuorum",
          "type": "uint16"
        }
      ],
      "name": "setQuorumSize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "validator",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "name": "setValidator",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "validators",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610c31380380610c3183398101604081905261002f916100c8565b6001600160a01b038316156100445782610046565b335b600080546001600160a01b03199081166001600160a01b03938416179091556001805490911691841691909117905561ffff8116156100855780610088565b60015b600160146101000a81548161ffff021916908361ffff160217905550505050610116565b80516001600160a01b03811681146100c357600080fd5b919050565b6000806000606084860312156100dd57600080fd5b6100e6846100ac565b92506100f4602085016100ac565b9150604084015161ffff8116811461010b57600080fd5b809150509250925092565b610b0c806101256000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c80637d037aa1116100665780637d037aa1146101ac57806393d27801146101bf578063ab033ea9146101d2578063b6fef677146101e5578063fa52c7d8146101f857600080fd5b80630fe11ab3146100a35780632e0d82cc146101315780633068ef4d146101465780634623c91d1461016e5780635aa6e67514610181575b600080fd5b6100b66100b13660046108a2565b61022b565b60408051825181526020808401516001600160a01b03908116918301919091528383015116918101919091526060808301516001600160601b03169082015260808083015167ffffffffffffffff169082015260a08083015161ffff169082015260c0918201519181019190915260e0015b60405180910390f35b61014461013f3660046108d7565b61034e565b005b60015461015b90600160a01b900461ffff1681565b60405161ffff9091168152602001610128565b61014461017c3660046108f9565b6103c2565b600054610194906001600160a01b031681565b6040516001600160a01b039091168152602001610128565b600154610194906001600160a01b031681565b6101446101cd366004610935565b61044b565b6101446101e03660046108d7565b6104cb565b6101446101f3366004610959565b610593565b61021b6102063660046108d7565b60036020526000908152604090205460ff1681565b6040519015158152602001610128565b6040805160e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c08101919091526000828152600260208181526040808420815160e0810183528154815260018201546001600160a01b03908116948201949094529381015492831691840191909152600160a01b9091046001600160601b03166060830152600381015467ffffffffffffffff8116608084018190526801000000000000000090910461ffff1660a084015260049091015460c08301529091036103485760405162461bcd60e51b815260206004820152601960248201527f457865637574696f6e4c6f673a20756e6b6e6f776e206a6f620000000000000060448201526064015b60405180910390fd5b92915050565b6000546001600160a01b03163314610378576040516282b42960e81b815260040160405180910390fd5b600180546001600160a01b0319166001600160a01b0383169081179091556040517f602cec4b1583b07d071161da5eb9589444d2459201e2fab7753dc941e9351c2190600090a250565b6000546001600160a01b031633146103ec576040516282b42960e81b815260040160405180910390fd5b6001600160a01b038216600081815260036020908152604091829020805460ff191685151590811790915591519182527f6b3b7d0d26ec99d080840dca1323c7147d1868adc66a4290afb8101d7908320d910160405180910390a25050565b6000546001600160a01b03163314610475576040516282b42960e81b815260040160405180910390fd5b6001805461ffff60a01b1916600160a01b61ffff8416908102919091179091556040519081527f2f779af2a2519216a167519d1f60c80f8333455bbdf7d7f53736201cad93fc639060200160405180910390a150565b6000546001600160a01b031633146104f5576040516282b42960e81b815260040160405180910390fd5b6001600160a01b03811661054b5760405162461bcd60e51b815260206004820152601d60248201527f457865637574696f6e4c6f673a207a65726f20676f7665726e616e6365000000604482015260640161033f565b600080546001600160a01b0319166001600160a01b038316908117825560405190917f9d3e522e1e47a2f6009739342b9cc7b252a1888154e843ab55ee1c81745795ab91a250565b6001546001600160a01b031633146105bd576040516282b42960e81b815260040160405180910390fd5b60008881526002602052604090206003015467ffffffffffffffff16156105f75760405163081da57f60e11b815260040160405180910390fd5b600154600160a01b900461ffff168110156106255760405163d173577960e01b815260040160405180910390fd5b60005b818110156106e3573683838381811061064357610643610a2b565b90506020028101906106559190610a41565b90506003600061066860208401846108d7565b6001600160a01b0316815260208101919091526040016000205460ff166106a1576040516282b42960e81b815260040160405180910390fd5b6106ae6020820182610a61565b90506000036106d05760405163d173577960e01b815260040160405180910390fd5b50806106db81610aaf565b915050610628565b506040518060e00160405280888152602001876001600160a01b03168152602001866001600160a01b03168152602001856001600160601b031681526020014267ffffffffffffffff1681526020018383905061ffff16815260200184815250600260008a81526020019081526020016000206000820151816000015560208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060408201518160020160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060608201518160020160146101000a8154816001600160601b0302191690836001600160601b0316021790555060808201518160030160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060a08201518160030160086101000a81548161ffff021916908361ffff16021790555060c08201518160040155905050846001600160a01b031687897f18e1acecb7de34c0483143a2690cd84021c985c3e8b638c0c80e2c89a02db6b68760405161089091906001600160601b0391909116815260200190565b60405180910390a45050505050505050565b6000602082840312156108b457600080fd5b5035919050565b80356001600160a01b03811681146108d257600080fd5b919050565b6000602082840312156108e957600080fd5b6108f2826108bb565b9392505050565b6000806040838503121561090c57600080fd5b610915836108bb565b91506020830135801515811461092a57600080fd5b809150509250929050565b60006020828403121561094757600080fd5b813561ffff811681146108f257600080fd5b60008060008060008060008060e0898b03121561097557600080fd5b883597506020890135965061098c60408a016108bb565b955061099a60608a016108bb565b945060808901356001600160601b03811681146109b657600080fd5b935060a0890135925060c089013567ffffffffffffffff808211156109da57600080fd5b818b0191508b601f8301126109ee57600080fd5b8135818111156109fd57600080fd5b8c60208260051b8501011115610a1257600080fd5b6020830194508093505050509295985092959890939650565b634e487b7160e01b600052603260045260246000fd5b60008235603e19833603018112610a5757600080fd5b9190910192915050565b6000808335601e19843603018112610a7857600080fd5b83018035915067ffffffffffffffff821115610a9357600080fd5b602001915036819003821315610aa857600080fd5b9250929050565b600060018201610acf57634e487b7160e01b600052601160045260246000fd5b506001019056fea264697066735822122036fb24dede1d05f0778873b9f6bc2a5d279255c3c2138beabe271abd21145a3864736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c80637d037aa1116100665780637d037aa1146101ac57806393d27801146101bf578063ab033ea9146101d2578063b6fef677146101e5578063fa52c7d8146101f857600080fd5b80630fe11ab3146100a35780632e0d82cc146101315780633068ef4d146101465780634623c91d1461016e5780635aa6e67514610181575b600080fd5b6100b66100b13660046108a2565b61022b565b60408051825181526020808401516001600160a01b03908116918301919091528383015116918101919091526060808301516001600160601b03169082015260808083015167ffffffffffffffff169082015260a08083015161ffff169082015260c0918201519181019190915260e0015b60405180910390f35b61014461013f3660046108d7565b61034e565b005b60015461015b90600160a01b900461ffff1681565b60405161ffff9091168152602001610128565b61014461017c3660046108f9565b6103c2565b600054610194906001600160a01b031681565b6040516001600160a01b039091168152602001610128565b600154610194906001600160a01b031681565b6101446101cd366004610935565b61044b565b6101446101e03660046108d7565b6104cb565b6101446101f3366004610959565b610593565b61021b6102063660046108d7565b60036020526000908152604090205460ff1681565b6040519015158152602001610128565b6040805160e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c08101919091526000828152600260208181526040808420815160e0810183528154815260018201546001600160a01b03908116948201949094529381015492831691840191909152600160a01b9091046001600160601b03166060830152600381015467ffffffffffffffff8116608084018190526801000000000000000090910461ffff1660a084015260049091015460c08301529091036103485760405162461bcd60e51b815260206004820152601960248201527f457865637574696f6e4c6f673a20756e6b6e6f776e206a6f620000000000000060448201526064015b60405180910390fd5b92915050565b6000546001600160a01b03163314610378576040516282b42960e81b815260040160405180910390fd5b600180546001600160a01b0319166001600160a01b0383169081179091556040517f602cec4b1583b07d071161da5eb9589444d2459201e2fab7753dc941e9351c2190600090a250565b6000546001600160a01b031633146103ec576040516282b42960e81b815260040160405180910390fd5b6001600160a01b038216600081815260036020908152604091829020805460ff191685151590811790915591519182527f6b3b7d0d26ec99d080840dca1323c7147d1868adc66a4290afb8101d7908320d910160405180910390a25050565b6000546001600160a01b03163314610475576040516282b42960e81b815260040160405180910390fd5b6001805461ffff60a01b1916600160a01b61ffff8416908102919091179091556040519081527f2f779af2a2519216a167519d1f60c80f8333455bbdf7d7f53736201cad93fc639060200160405180910390a150565b6000546001600160a01b031633146104f5576040516282b42960e81b815260040160405180910390fd5b6001600160a01b03811661054b5760405162461bcd60e51b815260206004820152601d60248201527f457865637574696f6e4c6f673a207a65726f20676f7665726e616e6365000000604482015260640161033f565b600080546001600160a01b0319166001600160a01b038316908117825560405190917f9d3e522e1e47a2f6009739342b9cc7b252a1888154e843ab55ee1c81745795ab91a250565b6001546001600160a01b031633146105bd576040516282b42960e81b815260040160405180910390fd5b60008881526002602052604090206003015467ffffffffffffffff16156105f75760405163081da57f60e11b815260040160405180910390fd5b600154600160a01b900461ffff168110156106255760405163d173577960e01b815260040160405180910390fd5b60005b818110156106e3573683838381811061064357610643610a2b565b90506020028101906106559190610a41565b90506003600061066860208401846108d7565b6001600160a01b0316815260208101919091526040016000205460ff166106a1576040516282b42960e81b815260040160405180910390fd5b6106ae6020820182610a61565b90506000036106d05760405163d173577960e01b815260040160405180910390fd5b50806106db81610aaf565b915050610628565b506040518060e00160405280888152602001876001600160a01b03168152602001866001600160a01b03168152602001856001600160601b031681526020014267ffffffffffffffff1681526020018383905061ffff16815260200184815250600260008a81526020019081526020016000206000820151816000015560208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060408201518160020160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060608201518160020160146101000a8154816001600160601b0302191690836001600160601b0316021790555060808201518160030160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060a08201518160030160086101000a81548161ffff021916908361ffff16021790555060c08201518160040155905050846001600160a01b031687897f18e1acecb7de34c0483143a2690cd84021c985c3e8b638c0c80e2c89a02db6b68760405161089091906001600160601b0391909116815260200190565b60405180910390a45050505050505050565b6000602082840312156108b457600080fd5b5035919050565b80356001600160a01b03811681146108d257600080fd5b919050565b6000602082840312156108e957600080fd5b6108f2826108bb565b9392505050565b6000806040838503121561090c57600080fd5b610915836108bb565b91506020830135801515811461092a57600080fd5b809150509250929050565b60006020828403121561094757600080fd5b813561ffff811681146108f257600080fd5b60008060008060008060008060e0898b03121561097557600080fd5b883597506020890135965061098c60408a016108bb565b955061099a60608a016108bb565b945060808901356001600160601b03811681146109b657600080fd5b935060a0890135925060c089013567ffffffffffffffff808211156109da57600080fd5b818b0191508b601f8301126109ee57600080fd5b8135818111156109fd57600080fd5b8c60208260051b8501011115610a1257600080fd5b6020830194508093505050509295985092959890939650565b634e487b7160e01b600052603260045260246000fd5b60008235603e19833603018112610a5757600080fd5b9190910192915050565b6000808335601e19843603018112610a7857600080fd5b83018035915067ffffffffffffffff821115610a9357600080fd5b602001915036819003821315610aa857600080fd5b9250929050565b600060018201610acf57634e487b7160e01b600052601160045260246000fd5b506001019056fea264697066735822122036fb24dede1d05f0778873b9f6bc2a5d279255c3c2138beabe271abd21145a3864736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
